<?xml version="1.0" encoding="UTF-8" ?>
<!--
 ! (c) Copyright 2005-2013 JAXIO, http://www.jaxio.com
 ! Source code generated by Celerio, a Jaxio product
 ! Want to use Celerio within your company? email us at info@jaxio.com
 ! Follow us on twitter: @springfuse
 ! Template pack-jsf2-spring-conversation:src/main/webapp/domain/edit.e.vm.xhtml
-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:c="http://java.sun.com/jsp/jstl/core"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:p="http://primefaces.org/ui"
	xmlns:app="http://springfuse.jaxio.com/app"
	xmlns:appcc="http://java.sun.com/jsf/composite/components">
<app:edit bean="#{produtorEditForm}" title="produtor">
	<ui:define name="form">
		<app:input id="nome" value="#{produtorEditForm.produtor.nome}" size="100" label="produtor_nome" required="true" />
		<app:selectOneRadio id="sexo" value="#{produtorEditForm.produtor.sexo}" values="#{sexoItems.list}" label="produtor_sexo" />
		<app:inputDate id="dataNascimento" value="#{produtorEditForm.produtor.dataNascimento}" label="produtor_dataNascimento" />
		<app:selectOneRadio id="estadoCivil" value="#{produtorEditForm.produtor.estadoCivil}" values="#{estadoCivilItems.list}" label="produtor_estadoCivil" />
		<app:input id="cpfCnpj" value="#{produtorEditForm.produtor.cpfCnpj}" size="45" label="produtor_cpfCnpj" required="true">
			<f:validateBean binding="#{jpaUniqueValidator}" entity="#{produtorEditForm.produtor}" property="cpfCnpj" />
		</app:input>
		<app:input id="rgIe" value="#{produtorEditForm.produtor.rgIe}" size="45" label="produtor_rgIe" />
		<app:selectOneRadio id="tipoPessoa" value="#{produtorEditForm.produtor.tipoPessoa}" values="#{tipoPessoaItems.list}" label="produtor_tipoPessoa" required="true" />
		<app:input id="logradouro" value="#{produtorEditForm.produtor.logradouro}" size="45" label="produtor_logradouro" />
		<app:input id="complemento" value="#{produtorEditForm.produtor.complemento}" size="45" label="produtor_complemento" />
		<app:input id="bairro" value="#{produtorEditForm.produtor.bairro}" size="100" label="produtor_bairro" />
		<app:input id="cidade" value="#{produtorEditForm.produtor.cidade}" size="100" label="produtor_cidade" />
		<app:selectOneMenu id="uf" value="#{produtorEditForm.produtor.uf}" values="#{UFItems.list}" label="produtor_uf" />
		<app:input id="pais" value="#{produtorEditForm.produtor.pais}" size="45" label="produtor_pais" />
		<app:input id="cep" value="#{produtorEditForm.produtor.cep}" size="10" label="produtor_cep" />
		<app:input id="telefone" value="#{produtorEditForm.produtor.telefone}" size="20" label="produtor_telefone" />
		<app:input id="fax" value="#{produtorEditForm.produtor.fax}" size="20" label="produtor_fax" />
		<app:input id="celular" value="#{produtorEditForm.produtor.celular}" size="20" label="produtor_celular" />
		<app:input id="email" value="#{produtorEditForm.produtor.email}" size="100" label="produtor_email" required="true" />
		<app:input id="facebook" value="#{produtorEditForm.produtor.facebook}" size="45" label="produtor_facebook" />
		<app:input id="skype" value="#{produtorEditForm.produtor.skype}" size="45" label="produtor_skype" />
		<app:input id="msn" value="#{produtorEditForm.produtor.msn}" size="100" label="produtor_msn" />
		<app:input id="site" value="#{produtorEditForm.produtor.site}" size="100" label="produtor_site" />
		<app:input id="valorComissao" value="#{produtorEditForm.produtor.valorComissao}" label="produtor_valorComissao" />
		<app:input id="salario" value="#{produtorEditForm.produtor.salario}" label="produtor_salario" />
		<app:input id="description" value="#{produtorEditForm.produtor.description}" size="45" label="produtor_description" />
		<app:audit
			creationAuthor="#{produtorEditForm.produtor.creationAuthor}"
			creationDate="#{produtorEditForm.produtor.creationDate}"
			lastModificationAuthor="#{produtorEditForm.produtor.lastModificationAuthor}"
			lastModificationDate="#{produtorEditForm.produtor.lastModificationDate}"
		/>
	</ui:define>
	<ui:define name="tabs">
		<p:tabView id="tabs" activeIndex="#{produtorEditForm.tabBean.activeIndex}">
			<p:ajax event="tabChange" />
			<p:tab id="listProdutores" title="#{msg.produtor_listProdutores}" rendered="#{osPermission.canUse()}">
				<!-- listProdutores -->
				<p:dataTable id="listProdutoresList" var="item" value="#{produtorEditForm.listProdutores.model}"
					paginator="#{listProdutores.listProdutores.model.rowCount gt 10}" rowsPerPageTemplate="10,25,50,100" rows="10" paginatorPosition="bottom"
					selection="#{produtorEditForm.listProdutores.model.selectedRow}" selectionMode="single" emptyMessage="#{msg.collection_empty}">
					<p:ajax event="rowSelect" listener="#{produtorEditForm.listProdutores.onRowSelectEdit}" disabled="#{readonly}" />
					<p:ajax event="rowSelect" listener="#{produtorEditForm.listProdutores.onRowSelectView}" disabled="#{!readonly}"/>
					<p:column id="os_status" headerText="#{msg.os_status}">
						<h:outputText value="#{item.status.label}" />
					</p:column>
					<p:column id="os_dataAtendimento" headerText="#{msg.os_dataAtendimento}">
						<h:outputText value="#{item.dataAtendimento}" />
					</p:column>
					<p:column id="os_dataConclusao" headerText="#{msg.os_dataConclusao}">
						<h:outputText value="#{item.dataConclusao}" />
					</p:column>
					<p:column id="os_dataVenciemento" headerText="#{msg.os_dataVenciemento}">
						<h:outputText value="#{item.dataVenciemento}" />
					</p:column>
					<p:column id="os_formaPagamento" headerText="#{msg.os_formaPagamento}">
						<h:outputText value="#{item.formaPagamento.label}" />
					</p:column>
					<p:column id="os_description" headerText="#{msg.os_description}">
						<h:outputText value="#{item.description}" />
					</p:column>
					<p:column id="actions" styleClass="actions-column" resizable="false">
						<f:facet name="header">
							<app:iconAdd id="addProdutores" actionBean="#{produtorEditForm.listProdutores}" rendered="#{osPermission.canCreate()}" title="produtor_listProdutores" />
						</f:facet>
						<app:iconView actionBean="#{produtorEditForm.listProdutores}" rendered="#{osPermission.canView(item)}" title="#{printer.print(item)}" >
							<f:setPropertyActionListener value="#{item}" target="#{produtorEditForm.listProdutores.model.selectedRow}" />
						</app:iconView>
						<app:iconEdit actionBean="#{produtorEditForm.listProdutores}" title="#{printer.print(item)}" rendered="#{osPermission.canEdit(item)}">
							<f:setPropertyActionListener value="#{item}" target="#{produtorEditForm.listProdutores.model.selectedRow}" />
						</app:iconEdit>
						<app:iconRemove dialogWidgetVar="askForRemoveProdutoresDialog" title="#{printer.print(item)}" rendered="#{osPermission.canDelete(item)}">
							<f:setPropertyActionListener value="#{item}" target="#{produtorEditForm.listProdutores.model.selectedRow}" />
						</app:iconRemove>
					</p:column>
				</p:dataTable>
			</p:tab>
		</p:tabView>
	</ui:define>
	<ui:define name="custom-dialogs">
		<app:confirmToManyRemoveDialog widgetVar="askForRemoveProdutoresDialog" toManyAction="#{produtorEditForm.listProdutores}" update=":form:tabs:listProdutoresList :form:messages" />
	</ui:define>
</app:edit>
</ui:composition>
