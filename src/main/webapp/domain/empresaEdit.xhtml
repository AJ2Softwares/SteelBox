<?xml version="1.0" encoding="UTF-8" ?>
<!--
 ! (c) Copyright 2005-2013 JAXIO, http://www.jaxio.com
 ! Source code generated by Celerio, a Jaxio product
 ! Want to use Celerio within your company? email us at info@jaxio.com
 ! Follow us on twitter: @springfuse
 ! Template pack-jsf2-spring-conversation:src/main/webapp/domain/edit.e.vm.xhtml
-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:c="http://java.sun.com/jsp/jstl/core"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:p="http://primefaces.org/ui"
	xmlns:app="http://springfuse.jaxio.com/app"
	xmlns:appcc="http://java.sun.com/jsf/composite/components">
<app:edit bean="#{empresaEditForm}" title="empresa">
	<ui:define name="tabsCliente">
            <p:tabView id="tabs2" activeIndex="#{empresaEditForm.tabBean.activeIndex}">
                <p:ajax event="tabChange" />
                <p:tab id="tgerais" title="${msg.dados_gerais}">
                    <h:panelGrid columns="2" styleClass="aria-role-presentation">
                        <app:selectOneRadio id="tipoPessoa" requiredMessage="Tipo Cliente requerido" value="#{empresaEditForm.empresa.tipoPessoa}" values="#{tipoPessoaItems.list}" label="${msg.cliente_tipoPessoa}" required="true">
                            <f:ajax event="change" render="tabs2" />    
                        </app:selectOneRadio>

                    </h:panelGrid>
                    <h:panelGrid id="pClienteJuridica" columns="2" styleClass="aria-role-presentation" rendered="#{empresaEditForm.empresa.tipoPessoa eq 'JURIDICA'}">
                        <app:input id="razaosocial" value="#{empresaEditForm.empresa.razaosocial}" size="50" label="${msg.empresa_razaosocial}" required="true">
                            <f:validateBean binding="#{jpaUniqueValidator}" entity="${empresaEditForm.empresa}" property="razaosocial" />
                        </app:input>
                        <app:input id="cnpj" value="#{empresaEditForm.empresa.cnpj}" size="20" label="${msg.empresa_cnpj}" required="true">
                                <f:validateBean binding="#{jpaUniqueValidator}" entity="${empresaEditForm.empresa}" property="cnpj" />
                        </app:input>
                        <app:input id="ie" value="#{empresaEditForm.empresa.ie}" size="20" label="${msg.empresa_ie}" />
                        <app:input id="nomeFantasia" value="#{empresaEditForm.empresa.nomeFantasia}" size="20" label="${msg.empresa_nomeFantasia}" />
                        <app:input id="sigla" value="#{empresaEditForm.empresa.sigla}" size="10" label="${msg.empresa_sigla}" />
                    </h:panelGrid>
                    <h:panelGrid id="pClientefisica" columns="2" styleClass="aria-role-presentation" rendered="#{empresaEditForm.empresa.tipoPessoa eq 'FISICA'}">
                        <app:input id="nome" value="#{empresaEditForm.empresa.razaosocial}" size="50" label="${msg.empresa_nome}" required="true">
                            <f:validateBean binding="#{jpaUniqueValidator}" entity="${empresaEditForm.empresa}" property="razaosocial" />
                        </app:input>
                        <app:input id="cpf" value="#{empresaEditForm.empresa.cnpj}" size="20" label="${msg.empresa_cnpj}" required="true">
                                <f:validateBean binding="#{jpaUniqueValidator}" entity="${empresaEditForm.empresa}" property="cnpj" />
                        </app:input>
                        <app:input id="rg" value="#{empresaEditForm.empresa.ie}" size="20" label="${msg.empresa_ie}" />
                        
                        
                    </h:panelGrid>
		
                </p:tab>
                <p:tab id="tendereco" title="${msg.dados_endereco}">
                    <h:panelGrid columns="2">
                        <app:input id="logradouro" value="#{empresaEditForm.empresa.logradouro}" size="100" label="${msg.empresa_logradouro}" />
                        <app:input id="complemento" value="#{empresaEditForm.empresa.complemento}" size="50" label="${msg.empresa_complemento}" />
                        <app:input id="numero" value="#{empresaEditForm.empresa.numero}" size="10" label="${msg.empresa_numero}" />
                        <app:input id="bairro" value="#{empresaEditForm.empresa.bairro}" size="100" label="${msg.empresa_bairro}" />
                        <app:input id="cidade" value="#{empresaEditForm.empresa.cidade}" size="100" label="${msg.empresa_cidade}" />
                        <app:selectOneMenu id="uf" value="#{empresaEditForm.empresa.uf}" values="#{UFItems.list}" label="${msg.empresa_uf}" size="30"/>
                        <app:input id="cep" value="#{empresaEditForm.empresa.cep}" size="20" label="${msg.empresa_cep}" />
                    </h:panelGrid>

                </p:tab>
                <p:tab id="tcontato" title="${msg.dados_contato}">
                    <h:panelGrid columns="2">
                        <app:input id="telefone" value="#{empresaEditForm.empresa.telefone}" size="20" label="${msg.empresa_telefone}" />
                        <app:input id="fax" value="#{empresaEditForm.empresa.fax}" size="20" label="${msg.empresa_fax}" />
                        <app:input id="facebook" value="#{empresaEditForm.empresa.facebook}" size="20" label="${msg.empresa_facebook}" />
                        <app:input id="site" value="#{empresaEditForm.empresa.site}" size="45" label="${msg.empresa_site}" />
                        <app:input id="email" value="#{empresaEditForm.empresa.email}" size="200" label="${msg.empresa_email}" required="true">
                                <f:validateBean binding="#{jpaUniqueValidator}" entity="${empresaEditForm.empresa}" property="email" />
                        </app:input>
                    </h:panelGrid>

                </p:tab>
                <p:tab id="tlogo" title="Relatório">
                    
                        <h:outputLabel value="Logomarca"/>
                        <h:graphicImage id="imagem" name="#{empresaEditForm.empresa.logomarcaFileName}" onclick="imagemDialog.show()"/>
                        <p:dialog id="alterarImagem" widgetVar="imagemDialog" header="Escolha o formato" width="600"  
                            resizable="false" showEffect="clip" hideEffect="clip">  
                            <p:fileUpload fileUploadListener="#{empresaEditForm.fileUpload}"
                                      mode="advanced"                                  
                                      oncomplete="imagemDialog.hide(),atualizaImagem()"
                                      multiple="true"
                                      sizeLimit="10000000"
                                      allowTypes="/(\.|\/)(gif|jpe?g|png)$/">

                            </p:fileUpload>

                        </p:dialog>
                        
                        <p:remoteCommand name="atualizaImagem" update=":form:tabs2"/>  
                    
                        <app:inputEditor id="bottonText" value="#{empresaEditForm.empresa.botonrelatorio}" size="20" label="Mensagem botton do relatório" />

                </p:tab>
            </p:tabView>            
	</ui:define>
</app:edit>
</ui:composition>
